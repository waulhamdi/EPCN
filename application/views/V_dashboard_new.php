<!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper"><!--pembuatan awal-->
    <!-- Content Header (Page header) -->
    <div class="content-header"><!--kepala struktur page header-->
      <div class="container-fluid"><!--pembuatan awal judul dashboard-->
        
      <div class="row mb-2"><!--ukuran dari pembuatan-->
          <div class="col-sm-6"><!--ukuran dari pembuatan-->
            <h3 class="m-50">Dashboard PCN</h3><!--ukuran dari judul-->
          </div>
          <!-- /.col -->
          <div class="col-sm-6"> <!--pembuatan awal judul samping-->
            <ol class="breadcrumb float-sm-right"><!--pembuatan struktur dalam -->
              <li class="breadcrumb-item"><a href="#">DMIA E-PCN SYSTEM</a></li><!--pembuatan item dengan tulisan DMIA E-PCN SYSTEM-->
              <li class="breadcrumb-item active">HOME PCN</li><!--Pembuatan home PCN-->
            </ol>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->

    <!-- Main content -->
    <section class="content"> <!--pembuatan awalan section untuk create form-->
      <div class="container-fluid"> <!--pembuka container mainnya-->
        <!-- Small boxes (Stat box) -->
        <div class="row"> <!--row class-->
          <div class="col-lg-3 col-6"> <!--ukuran baris nya-->
            <!-- small box --> <!--kepala pembuatan field box kecil-->
            <div class="small-box bg-blue"><!--untuk blue kepala aplikasi-->
              <div class="inner"><!--untuk kepala inner aplikasi-->
                <h3></h3><!--untuk mengatur jarak pada field,maupun coloumn-->

                <p>PCN REGISTER FORM</p> <!--judul-->
              </div>
              <div class="icon"> <!--kepala pembuatan gambar ikon pda field-->
              <i class="ion ion-clipboard mr-1"></i><!--bagian ikon yang di guanakan dan yang akan di tampilkan-->
              </div>
              <a href="C_PCN?var=1.1&var2=PCN%20Register" class="small-box-footer">PCN REGISTER<i class="fas fa-arrow-circle-right"></i></a><!--untuk menampilkan judul form dan bentuk dari field nya-->
            </div>
          </div>
          <!-- ./col -->
          <div class="col-lg-3 col-6"><!--ukurn field nya-->
            <!-- small box -->
            <div class="small-box bg-primary"><!--pembuatan dalam field-->
              <div class="inner"><!--untuk kepala inner aplikasi-->
                <h3><sup style="font-size: 20px"></sup></h3><!--ukuran-->

                <p>PCN LIST</p> <!--judul-->
              </div>
              <div class="icon"><!--kepala pembuatan gambar ikon pda field-->
              <i class="ion ion-clipboard mr-1"></i><!--bagan pembuatan ikonnya-->
              </div>
              <a href="C_PCNLIST?var=1.4&var2=PCN%20List" class="small-box-footer">PCN LIST<i class="fas fa-arrow-circle-right"></i></a><!--untuk menampilkan judul form dan bentuk dari field nya-->
            </div>
          </div>
                        
            <div class="col-lg-3 col-6"><!--ukurn field nya-->
                        <!-- small box -->
                        <div class="small-box bg-yellow"><!--pembuatan dalam field-->
                          <div class="inner"><!--untuk kepala inner aplikasi-->
                            <h3></h3>

                            <p>Application Response</p><!--judul-->
                          </div>
                          <div class="icon"><!--kepala pembuatan gambar ikon pda field-->
                          <i class="ion ion-clipboard mr-1"></i><!--bagan pembuatan ikonnya-->
                          </div>
                          <a href=" C_application?var=1.2&var2=Application%20Response" class="small-box-footer">Application Response<i class="fas fa-arrow-circle-right"></i></a><!--untuk menampilkan judul form dan bentuk dari field nya-->
                        </div>
                      </div>

                      <!-- ./col -->
                      <!-- <div class="col-lg-3 col-6">ukuran field nya -->
                        <!-- small box -->
                        <!-- <div class="small-box bg-yellow">pembuatan dalam field -->
                          <!-- <div class="inner">untuk kepala inner aplikasi -->
                            <!-- <h3></h3> -->

                            <!-- <p>ISIR Register</p>judul -->
                          <!-- </div> -->
                          <!-- <div class="icon">kepala pembuatan gambar ikon pda field -->
                          <!-- <i class="ion ion-clipboard mr-1"></i>bagan pembuatan ikonnya -->
                          <!-- </div> -->
                          <!-- <a href=" C_ISIR_information " class="small-box-footer">ISIR Register<i class="fas fa-arrow-circle-right"></i></a>untuk menampilkan judul form dan bentuk dari field nya -->
                        <!-- </div> -->
                      <!-- </div> -->

                <h3></h3>

                  
                             
                <!-- ./col -->
                <!-- <div class="col-lg-3 col-6">ukurn field nya -->
                                      <!-- small box -->
                                              <!-- <div class="small-box bg-yellow">pembuatan dalam field -->
                                                <!-- <div class="inner">untuk kepala inner aplikasi -->
                                                  <!-- <h3></h3> -->

                                                  <!-- <p>ISIR LIST</p>judul -->
                                                <!-- </div> -->
                                                <!-- <div class="icon">kepala pembuatan gambar ikon pda field -->
                                                <!-- <i class="ion ion-clipboard mr-1"></i>bagan pembuatan ikonnya -->
                                                <!-- </div> -->
                                                <!-- <a href="C_ISIR_LIST " class="small-box-footer">ISIR LIST<i class="fas fa-arrow-circle-right"></i></a>untuk menampilkan judul form dan bentuk dari field nya -->
                                              <!-- </div> -->
                                            <!-- </div> -->

               <!-- ./col -->
                  <!-- <div class="col-lg-3 col-6">ukurn field nya -->
                        <!-- small box -->
                                <!-- <div class="small-box bg-green">pembuatan dalam field -->
                                  <!-- <div class="inner">untuk kepala inner aplikasi -->
                                    <!-- <h3></h3> -->

                                    <!-- <p>QCR Register </p>judul -->
                                  <!-- </div> -->
                                  <!-- <div class="icon">kepala pembuatan gambar ikon pda field -->
                                  <!-- <i class="ion ion-clipboard mr-1"></i>bagan pembuatan ikonnya -->
                                  <!-- </div> -->
                                  <!-- <a href="C_QCR" class="small-box-footer">QCR Register<i class="fas fa-arrow-circle-right"></i></a>untuk menampilkan judul form dan bentuk dari field nya -->
                                <!-- </div> -->
                              <!-- </div> -->

               <!-- ./col -->
                    <!-- <div class="col-lg-3 col-6">ukurn field nya -->
                        <!-- small box -->
                                <!-- <div class="small-box bg-green">pembuatan dalam field -->
                                  <!-- <div class="inner">untuk kepala inner aplikasi -->
                                    <!-- <h3></h3> -->

                                    <!-- <p>QCR LIST</p>judul -->
                                  <!-- </div> -->
                                  <!-- <div class="icon">kepala pembuatan gambar ikon pda field -->
                                  <!-- <i class="ion ion-clipboard mr-1"></i>bagan pembuatan ikonnya -->
                                  <!-- </div> -->
                                  <!-- <a href="C_QCRLIST" class="small-box-footer">QCR LIST<i class="fas fa-arrow-circle-right"></i></a>untuk menampilkan judul form dan bentuk dari field nya -->
                                <!-- </div> -->
                              <!-- </div> -->


                  <!-- ./col -->
                  <div class="col-lg-3 col-6"><!--ukuran field nya-->
                        <!-- small box -->
                                <div class="small-box bg-orange"><!--pembuatan dalam field-->
                                  <div class="inner"><!--untuk kepala inner aplikasi-->
                                    <h3></h3>

                                    <p>Final Approval</p><!--judul-->
                                  </div>
                                  <div class="icon"><!--kepala pembuatan gambar ikon pda field-->
                                  <i class="ion ion-clipboard mr-1"></i><!--bagan pembuatan ikonnya-->
                                  </div>
                                  <a href="C_finalapproval" class="small-box-footer">Final Approval<i class="fas fa-arrow-circle-right"></i></a><!--untuk menampilkan judul form dan bentuk dari field nya-->
                                </div>
                              </div>
                      <!-- ./col -->
                  </div>
                      <!-- /.row -->
        <section class="col-lg-12 connectedSortable"><!--untuk ukuran panjang container-->
          <!-- Custom tabs (Charts with tabs)-->
          <div class="card"><!--untuk class bagian kepala aplikasi--> 
              <div class="card-header">  <!--untuk jenis bagian kepala aplikasi-->
                  <h3 class="card-title">  <!--untuk jenis bagian judul aplikasi-->
                      <i class="fas fa-th mr-2"></i><!--menambahkan ikon pada field-->
                          <b>New Entry PCN</b>
                  </h3>
                  <div class="card-tools"><!--untuk jenis bagian tools aplikasi-->
                      <!-- <button type="button" class="btn bg-dark btn-sm" data-card-widget="collapse">penambahan button,warna dan collaps -->
                      <!-- <i class="fas fa-minus"></i>untuk mensilent bagian bawah dan tengah field -->
                  </div>
              </div><!-- /.card-header -->
              
              <!-- </div>-->
              <div id="accordion"> <!--untuk menampilkan dan menyembunyikan element HTML-->
                  <!-- we are adding the .class so bootstrap.js collapse plugin detects it -->
                  <div class="card card-primary" > <!--untuk primary kepala aplikasi-->
                      <div id="collapseOne" class="panel-collapse collapse in"> <!--untuk menampilkan dan menyembunyikan suatu menu--> 
                          <div class="card-body">  <!--untuk body pada kepala aplikasi-->
                              <!-- Date -->
                              <div class="form-group">   <!--untuk fungsi form-->    
                                  <label>Date From:</label>  <!--judul date form-->
                                  <div class="input-group date" data-date-format="YYYY-MM-DD"  id="startdate" data-target-input="nearest"> <!--untuk menentukan tanggal pada aplikasi-->
                                      <input type="text" id="search_fromdate" class="form-control datetimepicker-input" data-target="#startdate"/> <!--untuk menentukan mulai tanggal berapa -->
                                      <div class="input-group-append" data-target="#startdate" data-toggle="datetimepicker"> <!--untuk menginput tanggal mulai-->
                                          <div class="input-group-text"><i class="fa fa-calendar"></i></div>  <!--fungsi tanggal-->
                                      </div>
                                  </div>
                              </div>

                              <!-- Date To-->
                              <div class="form-group">
                                  <label>Date To:</label>
                                  <div class="input-group date" data-date-format="YYYY-MM-DD" id="enddate" data-target-input="nearest"> <!--untuk menentukan tanggal pada aplikasi-->
                                      <input type="text" id="search_todate" class="form-control datetimepicker-input" data-target="#enddate"/><!--untuk menentukan sampai tanggal berapa -->
                                      <div class="input-group-append" data-target="#enddate" data-toggle="datetimepicker"> <!--untuk sampai tanggal mulai-->
                                          <div class="input-group-text"><i class="fa fa-calendar"></i></div> <!--fungsi tanggal-->
                                      </div>
                                  </div>
                              </div>

                              <button type="button" id="search" class="btn btn-block btn-success" data-toggle="collapse" data-target="#collapseOne">Search</button> <!--fungsi tombol search tanggal dicari-->
                  
                          </div>
                      </div>
                  </div>
              </div>  

              <div class="card-body">  <!-- .card-body -->
                  <table id="example2" class="table table-bordered display nowrap table-striped"> <!--jenis table-->
                      <thead>
                      <tr>
                      <!-- Th Macro Batas Sini -->
                      <th>ACTION</th>
                      <th>TRANSACTION DATE</th>
                      <th>NO DOKUMEN</th>
                      <th>STATUS</th>
                      <th>CATEGORY</th>
                      <th>SUPPLIER NAME</th>
                      <th>PRODUCT NAME</th>
                      <th>PART NAME</th>
                      <!-- <th>AE</th> -->
                      <th>PART NO</th>
                      <th>DESCRIPTION</th>
                      <th>PROSES PERUBAHAN (LAMA/BEFORE)</th>
                      <th>PROSES PERUBAHAN (BARU/AFTER)</th>
                      <th>CURRENT FLOW PIC</th>
                      <th>PIC PROC</th>
                      <th>CHECKED PROC</th>
                      <th>APPROVED PROC</th>
                      <th>COMMODITY</th>
                      <th>PIC QA</th>
                      <th>CHECKED QA</th>
                      <th>APPROVED QA</th>
                      <th>REGISTERED</th>
                      <th>MASSPRO SCHEDULE</th>
                      <th>ATTACHMENT</th>
                      <th>OTHER ATTACHMENT</th>
                      <th>OTHER ATTACHMENT</th>
                      <th>OTHER ATTACHMENT</th>
                      <th>ISIR</th>
                      <th>QCR</th>
                      <!-- <th>Detail Of Process Change (6M+EAS)</th> -->
                      <!-- /Th Macro Batas Sini -->
                    </tr>
                      </thead>
                  </table>      
              </div> <!-- /.card-body -->
          </div> <!-- /.card -->
        </section> <!-- /.section -->

        <!-- select to grafik -->
        <div class="row">
          <div class="col-md-9"></div>
          <div class="col-md-3">
              <b><p> Filter CATEGORY </p></b>
                <select class="form-control select2" id='select_grafik' onchange="handleSelectChange_grafik(event)">
                  <option value='' selected><font size="10"><p> -Select Category-</p></font></option>
                  <?php
                  foreach ($category as $value) {
                    echo "<option value='$value'>$value</option>";
                  }
                  ?>
                  <!-- <option value='supplier_name' selected><font size="10"><p> Select By Supplier Name </p></font></option> -->
                  <!-- <option value='product_name' selected><font size="10"><p> Select By Product Name</p></font></option> -->
                </select>
          </div>                  
        </div> <br>
        <div class="row">
          <div class="col-md-9"></div>
          <div class="col-md-3">
              <b><p> Grafik PERIOD (YEAR)</p> </b>
                    <select class="form-control select2" id='select_grafik2' onchange="handleSelectChange_year(event)">
                      <option value='' selected>Select Year</option>
                      <?php
                      foreach ($years as $year) {
                        echo "<option value='-" . substr($year['year_date'], -2) . "'>" . $year['year_date'] . "</option>";
                      }
                      ?>
                    </select>

            </div> 
          </div><br>
        <!-- /select to grafik -->

        <!-- javascript handleselect -->
        <script type="text/javascript">
          $('.select2').select2();
                           
            function handleSelectChange_grafik(event){
              // console.log($('#select_grafik').val());
              // if ($('#select_grafik').val()=='product_name'){
              //   $('#myChart2').show();
              //   $('#myChart3').hide();
              // } else if ($('#select_grafik').val()=='supplier_name'){
              //   $('#myChart2').hide();
              //   $('#myChart3').show();
              // } else {
              //   $('#myChart2').show();
              //   $('#myChart3').hide();
              // }
              selectfilter();
            }
            function handleSelectChange_year(event){
              selectfilter();
            }

            function selectfilter(){

              var byCategory = new RegExp($('#select_grafik').val());
              var byYear = new RegExp($('#select_grafik2').val());

              // if(byYear ==""&&byCategory ==""){clearFilter2()}else{

              // Ajax filter data GRAFIK
                $.ajax({
                    url: "<?php echo base_url('C_Dashboard_new/area_filter') ?>",
                    method: "get",
                    dataType : "JSON",              
                    data: {"byYear":byYear,"byCategory":byCategory},
                    success: function (data) {
                        
                      
                      //--------------------------- grafik bar select filter ---------------------------------------------------------------------

                        // get data dari controller

                        

                          var xValues = data.Name;
                          var Total_Open = data.Total_Open;
                          console.log(Total_Open);
                          var Total_Close = data.Total_Close;

                          // Destroy old graph
                          if (chart) {
                              chart.destroy();
                          }

                          chart =new Chart("myChart2", {
                              type: "bar",
                              data: {
                                  labels: xValues,
                                  datasets: [{
                                      label: "Open",
                                      backgroundColor: '#4FC3F7',
                                      data: Total_Open,
                                      stack: 2,
                                  }, 
                                {
                                      label: "Close",
                                      type: "bar",
                                      backgroundColor: "#43A047",
                                      data: Total_Close,
                                      stack: 2
                                }
                              ],
                              },
                              options: {
                                  maintainAspectRatio: false,
                                  legend: {display: true}, 
                                  title: { display: true},
                                  fontStyle: 'bold',
                                  scales: {
                                    // setting X label
                                      xAxes: [{
                                          /* For changing color of x-axis coordinates */
                                          ticks: {
                                            fontSize: 9,
                                            fontStyle: "bold",
                                            fontColor: '#000000'
                                          },
                                          position: "bottom",
                                          stacked: true,
                                          display: true
                                        }],
                                    // setting Y label
                                      yAxes: [{
                                                stacked: true,
                                                type: 'linear',
                                                id: "stacked_testY",
                                                display: true,
                                                position: "left",
                                                scaleLabel: {
                                                display: true,
                                                labelString: 'PCN Qty'
                                              },
                                          ticks: {
                                              beginAtZero: true,
                                              stepSize: 5,
                                          },
                                          
                                      }]
                                  },
                              }
                              });

                              if (xValues==0) {
                                swal("Data Not Found!");
                              }
                            
                      //---------------------------- grafik bar select filter  --------------------------------------------------------------------
                              
                        },
                    error: function (e) {
                            // alert(e);

                          
                        }
                  });
              // }
            }
        </script>
        <!-- /javascript handleselect -->

        <!--  grafik close and open batas sini -->
          <section class="col-lg-12 connectedSortable">
            <div class="card bg-gradient-white">
                <div class="card-header border-0">
                    <h3 class="card-title"><i class="fas fa-chart-pie"></i> Chart PCN list By Close and Open PCN</h3>
                    <div class="card-tools">
                        <!-- <button type="button" class="btn bg-dark btn-sm" data-card-widget="collapse">
                            <i class="fas fa-minus"></i> -->
                        </button>
                    </div>
                </div>

                <div class="card-body">
                    <div class="card card-white">
                        <div class="card-header">
                            <h3 class="card-title">Close and Open PCN</h3>
                            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

                            <div style="height:50vh;padding:5px;">
                                <canvas id="myChart2"></canvas>
                                <!-- <canvas id="myChart3"></canvas> -->
                            </div>

                            <script>
                              // var xValues = <= $years ?>;

                              // var BySelect = document.getElementById("select_grafik");                              

                              // data by product_name
                              var xValues = <?= $product_name ?>;
                              var approved = <?= $product_approved ?>;
                              var Open_PCN = <?= $open_pcn ?>;
                              
                              // data by supplier_name
                              var xValues_S = <?= $supplier_name ?>;
                              var approved_S = <?= $supplier_approved ?>;
                              var Open_PCN_S = <?= $open_pcn_by_supplier ?>;

                                // by product
                                chart =new Chart("myChart2", {
                                  type: "bar",
                                  data: {
                                      labels: xValues,
                                      datasets: [{
                                          label: "Open",
                                          backgroundColor: '#4FC3F7',
                                          data: Open_PCN,
                                          stack: 1,
                                      }, 
                                      {
                                            label: "Close",
                                            type: "bar",
                                            backgroundColor: "#43A047",
                                            data: approved,
                                            stack: 1
                                      }
                                  ],
                                  },
                                  options: {
                                      maintainAspectRatio: false,
                                      legend: {display: true}, 
                                      title: { display: true},
                                      fontStyle: 'bold',
                                      scales: {
                                        // setting X label
                                          xAxes: [{
                                              /* For changing color of x-axis coordinates */
                                              ticks: {
                                                fontSize: 9,
                                                fontStyle: "bold",
                                                fontColor: '#000000'
                                              },
                                              position: "bottom",
                                              stacked: true,
                                              display: true
                                            }],
                                        // setting Y label
                                          yAxes: [{
                                                    stacked: true,
                                                    type: 'linear',
                                                    id: "stacked_testY",
                                                    display: true,
                                                    position: "left",
                                                    scaleLabel: {
                                                    display: true,
                                                    labelString: 'PCN Qty'
                                                  },
                                              ticks: {
                                                  beginAtZero: true,
                                                  stepSize: 5,
                                              },
                                              
                                          }]
                                      },
                                  }
                                });
                                
                                // by supplier
                                // chart =new Chart("myChart3", {
                                //   type: "bar",
                                //   data: {
                                //       labels: xValues_S,
                                //       datasets: [{
                                //           label: "Open",
                                //           backgroundColor: '#4FC3F7',
                                //           data: Open_PCN_S,
                                //           stack: 1,
                                //       }, 
                                //       {
                                //             label: "Close",
                                //             type: "bar",
                                //             backgroundColor: "#43A047",
                                //             data: approved_S,
                                //             stack: 1
                                //       }
                                //   ],
                                //   },
                                //   options: {
                                //       maintainAspectRatio: false,
                                //       legend: {display: true}, 
                                //       title: { display: true},
                                //       fontStyle: 'bold',
                                //       scales: {
                                //         // setting X label
                                //           xAxes: [{
                                //               /* For changing color of x-axis coordinates */
                                //               ticks: {
                                //                 fontSize: 9,
                                //                 fontStyle: "bold",
                                //                 fontColor: '#000000'
                                //               },
                                //               position: "bottom",
                                //               stacked: true,
                                //               display: true
                                //             }],
                                //         // setting Y label
                                //           yAxes: [{
                                //                     stacked: true,
                                //                     type: 'linear',
                                //                     id: "stacked_testY",
                                //                     display: true,
                                //                     position: "left",
                                //                     scaleLabel: {
                                //                     display: true,
                                //                     labelString: 'PCN Qty'
                                //                   },
                                //               ticks: {
                                //                   beginAtZero: true,
                                //                   stepSize: 5,
                                //               },
                                              
                                //           }]
                                //       },
                                //   }
                                // });
                              
                            </script>
                        </div>
                    </div>
                  </div>
              </div>
          </section>
        <!--  /grafik close and open batas sini -->

        <section class="col-lg-12 connectedSortable" hidden > <!--Section-->
          <!-- Map card -->
          <div class="card bg-gradient-white">
              <div class="card-header border-0">
                  <h3 class="card-title"><i class="fas fa-chart-pie"></i> Chart PCN list By Product Name</h3>
                  <!-- card tools -->
                  <div class="card-tools"><!--untuk jenis bagian tools aplikasi-->
                      <!-- <button type="button" class="btn bg-dark btn-sm" data-card-widget="collapse">penambahan button,warna dan collaps -->
                          <!-- <i class="fas fa-minus"></i>untuk mensilent bagian bawah dan tengah field -->
                      </button>
                  </div>
              </div>

              <div class="card-body">
                  <!-- BAR CHART -->
                  <div class="card card-white"><!--untuk jenis bagian warna kepala aplikasi-->
                      <div class="card-header"><!--untuk jenis bagian kepala aplikasi-->
                          <h3 class="card-title">PCN By Product Name</h3><!--untuk jenis bagian kepala judul aplikasi-->
                          <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

                          <div style="height:50vh;padding:5px;">
                              <canvas id="myChart0"></canvas>
                          </div>

                          <script>
                              var xValues = <?= $product_name ?>;
                              var total = <?= $product_total ?>;
                              var approved = <?= $product_approved ?>;
                              var process = <?= $product_process ?>;
                              var unapproved = <?= $product_unapproved ?>;
                              var rejected = <?= $product_rejected ?>;
                              var plan = <?= $plan_approval ?>;
                              var ny_temporary = <?= $ny_temporary ?>;
                              // var barColors = ["red", "green","blue","orange","brown","dark"];

                              new Chart("myChart0", {
                              type: "bar",
                              data: {
                                  labels: xValues,
                                  datasets: [{
                                  label :"Total",
                                  backgroundColor: "grey",
                                  data: total 
                                  },
                                  {
                                  label:"Not Approved",
                                  backgroundColor: "blue",
                                  data: unapproved
                                  },
                                  {
                                  label :"On Process",
                                  backgroundColor: "orange",
                                  data: process 
                                  },
                                  {
                                  label :"Approve",
                                  backgroundColor: "green",
                                  data: approved 
                                  },
                                  {
                                  label :"Rejected",
                                  backgroundColor: "red",
                                  data: rejected 
                                  },
                                  {
                                  label :"Plan Approval",
                                  backgroundColor: "magenta",
                                  data: plan 
                                  },
                                  {
                                  label :"Not Yet Temporary",
                                  backgroundColor: "yellow",
                                  data: ny_temporary 
                                  }]
                              },
                              options: {
                                  maintainAspectRatio: false,
                                  legend: {display: true},
                                  title: {
                                  display: true
                                  },
                                  scales: { 
                                  yAxes: [{
                                      ticks: {
                                      min: 0
                                      }
                                  }]
                                  }
                              }
                              });
                          </script>
                      </div>
                  </div> 
                  <!-- Close modal-content -->  
              </div>
              <!-- Close modal-dialog -->  
          </div>
      </section>

        <section class="col-lg-12 connectedSortable" style="margin-top: -15px;"> <!--penghubung-->
        <!-- Map card -->
            <div class="card bg-gradient-white">
                <div class="card-header border-0">
                    <h3 class="card-title"><i class="fas fa-chart-pie"></i> Chart PCN list By Supplier</h3>
                    <!-- card tools -->
                    <div class="card-tools"><!--untuk jenis bagian tools aplikasi-->
                        <!-- <button type="button" class="btn bg-dark btn-sm" data-card-widget="collapse"><!--penambahan button,warna dan collaps-->
                        <!-- <i class="fas fa-minus"></i>untuk mensilent bagian bawah dan tengah field -->
                    </div>
                </div>

                <div class="card-body"> <!--membuat badan awalan sebelum di desain-->
                <!-- BAR CHART -->
                    <div class="card card-white"><!--untuk jenis bagian warna kepala aplikasi-->
                        <div class="card-header"><!--untuk jenis bagian kepala aplikasi-->
                            <h3 class="card-title">PCN By Supplier</h3><!--untuk jenis bagian kepala judul aplikasi-->

                            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

                            <div style="height:50vh;padding:5px;">
                                <canvas id="myChart6"></canvas>
                            </div>

                            <script>
                                var xValues = <?= $supplier_name ?>;
                                var total = <?= $supplier_total ?>;
                                var approved = <?= $supplier_approved ?>;
                                var process = <?= $supplier_process ?>;
                                var unapproved = <?= $supplier_unapproved ?>;
                                var rejected = <?= $supplier_rejected ?>;
                                var plan = <?= $plan_approval ?>;
                                var ny_temporary = <?= $ny_temporary ?>;
                                // var barColors = ["red", "green","blue","orange","brown","dark"];

                                new Chart("myChart6", {
                                type: "bar",
                                data: {
                                    labels: xValues,
                                    datasets: [{
                                    label :"Total",
                                    backgroundColor: "grey",
                                    data: total 
                                    },
                                    {
                                    label:"Not Approved",
                                    backgroundColor: "blue",
                                    data: unapproved
                                    },
                                    {
                                    label :"On Process",
                                    backgroundColor: "orange",
                                    data: process 
                                    },
                                    {
                                    label :"Approve",
                                    backgroundColor: "green",
                                    data: approved 
                                    },
                                    {
                                    label :"Rejected",
                                    backgroundColor: "red",
                                    data: rejected 
                                    },
                                    {
                                    label :"Plan Approval",
                                    backgroundColor: "magenta",
                                    data: plan 
                                    },
                                    {
                                    label :"Not Yet Temporary",
                                    backgroundColor: "yellow",
                                    data: ny_temporary 
                                    }]
                                },
                                options: {
                                    maintainAspectRatio: false,
                                    legend: {display: true},
                                    title: {
                                    display: true
                                    },
                                    scales: { 
                                    yAxes: [{
                                        ticks: {
                                        min: 0
                                        }
                                    }]
                                    }
                                }
                                });
                            </script>
                        </div>
                    </div><!-- /.card card-white -->
                </div><!-- /.card-body -->
            </div>
        </section>

        <section class="col-lg-12 connectedSortable"><!--untuk ukuran panjang container-->
            <!-- Custom tabs (Charts with tabs)-->
            <div class="card"><!--untuk class bagian kepala aplikasi--> 
                <div class="card-header">  <!--untuk jenis bagian kepala aplikasi-->
                    <h3 class="card-title">  <!--untuk jenis bagian judul aplikasi-->
                    <i class="fas fa-th mr-2"></i><!--menambahkan ikon pada field-->
                    </h3>

                    <div class="card-tools"><!--untuk jenis bagian tools aplikasi-->
                    <!-- <button type="button" class="btn bg-dark btn-sm" data-card-widget="collapse">penambahan button,warna dan collaps -->
                        <!-- <i class="fas fa-minus"></i>untuk mensilent bagian bawah dan tengah field -->
                    </div>
                </div>
                <!-- /.card-header -->
                
                <div id="accordion"> <!--untuk menampilkan dan menyembunyikan element HTML-->
                    <!-- we are adding the .class so bootstrap.js collapse plugin detects it -->
                    <div class="card card-primary" > <!--untuk primary kepala aplikasi-->
                        <div id="collapseOne" class="panel-collapse collapse in"> <!--untuk menampilkan dan menyembunyikan suatu menu--> 
                            <div class="card-body">  <!--untuk body pada kepala aplikasi-->
                                <!-- Date -->
                                <div class="form-group"><!--untuk fungsi form-->
                                    <label>Date From:</label>  <!--judul date form-->
                                    <div class="input-group date" data-date-format="YYYY-MM-DD"  id="startdate" data-target-input="nearest"> <!--untuk menentukan tanggal pada aplikasi-->
                                        <input type="text" id="search_fromdate" class="form-control datetimepicker-input" data-target="#startdate"/> <!--untuk menentukan mulai tanggal berapa -->
                                        <div class="input-group-append" data-target="#startdate" data-toggle="datetimepicker"> <!--untuk menginput tanggal mulai-->
                                            <div class="input-group-text"><i class="fa fa-calendar"></i></div>  <!--fungsi tanggal-->
                                        </div>
                                    </div>
                                </div>

                                <!-- Date To-->
                                <div class="form-group">
                                    <label>Date To:</label>
                                    <div class="input-group date" data-date-format="YYYY-MM-DD" id="enddate" data-target-input="nearest"> <!--untuk menentukan tanggal pada aplikasi-->
                                        <input type="text" id="search_todate" class="form-control datetimepicker-input" data-target="#enddate"/><!--untuk menentukan sampai tanggal berapa -->
                                        <div class="input-group-append" data-target="#enddate" data-toggle="datetimepicker"> <!--untuk sampai tanggal mulai-->
                                            <div class="input-group-text"><i class="fa fa-calendar"></i></div> <!--fungsi tanggal-->
                                        </div>
                                    </div>
                                </div>

                                <button type="button" id="search" class="btn btn-block btn-success" data-toggle="collapse" data-target="#collapseOne">Search</button> <!--fungsi tombol search tanggal dicari-->
                            
                            </div>
                        </div>
                    </div>
                </div>  

                <div class="card-body">  <!-- .card-body -->
                  <div class="container">
                    <table class="table table-bordered">
                      <thead>
                        <tr>
                          <th>No.</th>
                          <th>Pic Buyer</th>
                          <th>Open</th>
                          <th>Not Yet Plan Approval</th>
                          <th>Hold</th>
                          <th>Plan Approval</th>
                          <th>Late</th>
                          <th>Priority</th>
                        </tr>
                      </thead>
                      <tbody>
                      <?php if (!empty($name)): ?>
                        <?php foreach ($name as $key => $value): ?>
                          <tr>
                            <td><?php echo $key + 1 ?></td>
                            <td><?php echo $value ?></td>
                            <td><?php echo $total ?></td>
                            <td><?php echo $ny_temporary_stat ?></td>
                            <td><?php echo $decision ?></td>
                            <td><?php echo $plan_approval_stat ?></td>
                            <td><?php echo $late ?></td>
                            <td><?php echo $priority ?></td>
                          </tr>
                        <?php endforeach; ?>
                      <?php endif; ?>
                      </tbody>
                    </table>
                  </div>
                </div>
        </section><!-- /.section -->          

        <!-- modal-Add / Update -->
        <div class="modal fade" id="modal-default" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"> <!--fungsi DETAIL-->
          <div class="modal-dialog modal-lg" role="document" > <!--untuk tampilan DETAIL aplikasi-->
                  <div class="modal-content">            <!--content DETAIL-->
                    <div class="modal-header">  <!--untuk header DETAIL-->
                        <h4 class="modal-title" id="exampleModalLabel">DETAIL</h5> <!--judul DETAIL-->
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <!--untuk fungsi tombol close-->
                        <span aria-hidden="true">Ã—</span> <!-- jika data ditambah maka data akan muncul--> 
                        </button>
                    </div>
                    
                    <!-- form -->
                    <form role="form" id="quickForm">
                      <div class="card-body">
                      <!---------------------------------- Form Macro Batas sini ---------------------------------->

                      <div class="card card-primary collapsed-card" id="PCNSection">
                          <div class="card-header" data-card-widget="collapse">
                            <h3 class="card-title">
                              <b>PCN Registration</b>
                            </h3>
                            <div class="card-tools">
                              <button type="button" class="btn btn-tool">
                                <i class="fas fa-plus"></i>
                              </button>
                            </div>
                          </div>
                          <div class="card-body" style="display: none;">
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >PCN Number</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="hdrid"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Submission Date</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="transaction_date"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Email</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="email"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Supplier Name</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="supplier_name"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Prepared Approver</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="prepared"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Check Approver</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="checked"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Final Approver</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="approved"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Any Cost Impact</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="any_cost_impact"  readonly></textarea>
                                </div>
                            </div>

                            <div id="cost">
                              <div class="row mb-2">
                                  <div class="col-md-4">
                                    <label >Cost Impact (IDR)</label>
                                  </div>
                                  <div class="col-md-8">
                                    <textarea type="text" class="form-control" id="cost_impact"  readonly></textarea>
                                  </div>
                              </div>
                            </div>
                              
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Any Capacity Impact</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="capacity_impact"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div id="capacity">
                              <div class="row mb-2">
                                  <div class="col-md-4">
                                    <label >Capacity Before</label>
                                  </div>
                                  <div class="col-md-8">
                                    <textarea type="text" class="form-control" id="before_capacity"  readonly></textarea>
                                  </div>
                              </div>
                              
                              <div class="row mb-2">
                                  <div class="col-md-4">
                                    <label >Capacity After</label>
                                  </div>
                                  <div class="col-md-8">
                                    <textarea type="text" class="form-control" id="after_capacity"  readonly></textarea>
                                  </div>
                              </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Part Number</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="part_number"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Part Name</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="part_name"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Product Name</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="product_name"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Object Type</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="object_type"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Reason To Change</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="reason_to_change"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Description of Process Change</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="description_of_process_change"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Current Process</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="current_process"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Proposed Process</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="proposed_process"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Characteristics Affected</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="characteristics_affected"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Criteria Critical Item</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="criteria_critical_item"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Trial Manufacturing</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="trial_manufacturing"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Process Capability Study</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="process_capability_study"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Initial Sample Inspection Completed</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="initial_sample_inspection_completed"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Initial Sample Submission</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="initial_sample_submission"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Timing Denso Approval</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="timing_denso_approval"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Mass Production Starts</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="m_or_p_starts"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Mass Production Shipment</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="m_or_p_shipment"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Entry Example</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="entry_example"  readonly></textarea>
                                </div>
                            </div>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Status</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="status"  readonly></textarea>
                                </div>
                            </div>
                          </div>
                        </div>
                        <!-- Close Card Body --> 
                        
                        <div class="card card-primary collapsed-card" id="toolingSection">
                          <div class="card-header" data-card-widget="collapse">
                            <h3 class="card-title">
                              <b>PO Tooling</b>
                            </h3>
                            <div class="card-tools">
                              <button type="button" class="btn btn-tool">
                                <i class="fas fa-plus"></i>
                              </button>
                            </div>
                          </div>
                          <div class="card-body" style="display: none;">

                            <P class="mt-1 mb-3" style="text-align:center; font-size:24px; color:red;"><B>General Data<B></P>
                          
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Supplier</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_supplier"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Tooling Type</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_tipe"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Part Number</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_part_number"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Part Name</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_part_name"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Number Tooling</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_number_tooling"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Reason</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_reason"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Planning</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_planning"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label id="month_1"></label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_quantity_month_1"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label id="month_2"></label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_quantity_month_2"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label id="month_3"></label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_quantity_month_3"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label id="month_4"></label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_quantity_month_4"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label id="month_5"></label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_quantity_month_5"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label id="month_6"></label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_quantity_month_6"  readonly></textarea>
                                </div>
                            </div>

                            <hr>
                            <P class="mt-1 mb-3" style="text-align:center; font-size:24px; color:red;"><B>Current Dies Data<B></P>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Start Delivery to Aine</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_start_delivery_to_aine"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Mold Price (IDR)</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_current_dies_mold_price"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >M/C Tonage</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_current_dies_m_c_tonage"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Quantity Cavity</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_current_dies_qty_cavity"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Cavity Number</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_current_dies_cavity_number"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Output Pcs/hour</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_current_dies_output_pcs_hour"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Guarantee Shoot</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_current_dies_guarantee_shoot"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Total Shoot</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_current_dies_total_shoot"  readonly></textarea>
                                </div>
                            </div>

                            <hr>
                            <P class="mt-1 mb-3" style="text-align:center; font-size:24px; color:red;"><B>New Dies Data<B></P>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Mold Finish</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_new_dies_mold_finish"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Mold Price (IDR)</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_new_dies_mold_price"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >M/C Tonage</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_new_dies_m_c_tonage"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Quantity Cavity</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_new_dies_qty_cavity"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Cavity Number</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_new_dies_cavity_number"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Type</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_new_dies_type"  readonly></textarea>
                                </div>
                            </div>

                            <hr>
                            <P class="mt-1 mb-3" style="text-align:center; font-size:24px; color:red;"><B>Schedule Data<B></P>
                            
                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >T0/T1 Trial</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_schedule_t0_t1_trial"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Sample Isir Submission</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_schedule_sample_isir_submission"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Cycle Time</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_schedule_cycle_time"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Cavity Number</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_schedule_cavity_number"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Output Pcs/hour</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_schedule_output_pcs_hour"  readonly></textarea>
                                </div>
                            </div>

                            <div class="row mb-2">
                                <div class="col-md-4">
                                  <label >Total Output/Month</label>
                                </div>
                                <div class="col-md-8">
                                  <textarea type="text" class="form-control" id="tooling_schedule_total_output_month"  readonly></textarea>
                                </div>
                            </div>
                          </div>
                          <!-- Close Card Body -->  
                            
                        </div>
                        <!-- Close Card Body --> 

                        <div class="card card-primary collapsed-card" >
                          <div class="card-header" data-card-widget="collapse">
                            <h3 class="card-title">
                              <b>Attachment</b>
                            </h3>
                            <div class="card-tools">
                              <button type="button" class="btn btn-tool">
                                <i class="fas fa-plus"></i>
                              </button>
                            </div>
                          </div>
                          <div class="card-body" style="display: none;" id="attachmentSection">
                          </div>
                          <!-- Close Card Body -->
                        </div>
                        <!-- Close Card Body --> 

                        <!-- <div class="card-footer">  footer kepala aplikasi  -->
                        <!-- <button type="submit" class="btn btn-primary" id="btnsubmit">Save</button>     button save  -->
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                      </div>                
                    </form>    
                    <!-- /form  -->
                  </div> 
                  <!-- Close modal-content -->  
              </div>
              <!-- Close modal-dialog -->  
          </div>
          <!-- Close modal-Add / Update --> 
                  
          <script type="text/javascript">
            
             ///@see get data List PCN
            ///@note fungsi untuk menarik data list pcn
            ///@attention jika data yang ditarik tidak sesuai maka tidak akan muncul
            
            function view_modal(hdrid, type){
              console.log(type);
              $.ajax({
                url: "<?php echo base_url('C_Dashboard_new/ajaxGet_pcn') ?>",
                type: "get",
                dataType: "JSON",
                data: {hdrid:hdrid},
                success: function(data) {
                  $('#hdrid').empty();
                  $('#hdrid').append(data.hdrid);

                  $('#transaction_date').empty();
                  $('#transaction_date').append(data.transaction_date);

                  $('#supplier_name').empty();
                  $('#supplier_name').append(data.supplier_name);
                  
                  $('#email').empty();
                  $('#email').append(data.email);

                  $('#prepared').empty();
                  $('#prepared').append(data.prepared);

                  $('#checked').empty();
                  $('#checked').append(data.checked);

                  $('#approved').empty();
                  $('#approved').append(data.approved);

                  $('#any_cost_impact').empty();
                  $('#any_cost_impact').append(data.any_cost_impact);

                  if(data.any_cost_impact == "No" || data.any_cost_impact == "no"){
                    $('#cost').empty();
                  }else{
                    $('#cost').empty();
                    $('#cost').append('<div class="row mb-2"><div class="col-md-4"><label >Cost Impact (IDR)</label></div><div class="col-md-8"><textarea type="text" class="form-control" id="cost_impact"  readonly></textarea></div>');
                    
                    $('#cost_impact').empty();
                    $('#cost_impact').append(data.cost_impact);
                  }

                  $('#capacity_impact').empty();
                  $('#capacity_impact').append(data.capacity_impact);
                  
                  if(data.capacity_impact == "No" || data.capacity_impact == "no"){
                    $('#capacity').empty();
                  }else{
                    $('#capacity').empty();
                    $('#capacity').append('<div class="row mb-2"><div class="col-md-4"><label >Capacity Before</label></div><div class="col-md-8"><textarea type="text" class="form-control" id="before_capacity"  readonly></textarea></div></div><div class="row mb-2"><div class="col-md-4"><label >Capacity After</label></div><div class="col-md-8"><textarea type="text" class="form-control" id="after_capacity"  readonly></textarea></div></div>');
                    
                    $('#before_capacity').empty();
                    $('#before_capacity').append( data.before_capacity); //"number_format(". data.before_capacity ."',0,',','.');");
   
                    $('#after_capacity').empty();
                    $('#after_capacity').append(data.after_capacity);
   
                  }

 
                  $('#part_number').empty();
                  $('#part_number').append(data.part_number);
 
                  $('#part_name').empty();
                  $('#part_name').append(data.part_name);
 
                  $('#product_name').empty();
                  $('#product_name').append(data.product_name);
 
                  $('#object_type').empty();
                  $('#object_type').append(data.object_type);
 
                  $('#reason_to_change').empty();
                  $('#reason_to_change').append(data.reason_to_change);
 
                  $('#description_of_process_change').empty();
                  $('#description_of_process_change').append(data.description_of_process_change);
 
                  $('#current_process').empty();
                  $('#current_process').append(data.current_process);
 
                  $('#proposed_process').empty();
                  $('#proposed_process').append(data.proposed_process);
 
                  $('#characteristics_affected').empty();
                  $('#characteristics_affected').append(data.characteristics_affected);
 
                  $('#criteria_critical_item').empty();
                  $('#criteria_critical_item').append(data.criteria_critical_item);
 
                  $('#trial_manufacturing').empty();
                  $('#trial_manufacturing').append(data.trial_manufacturing + ' To ' + data.trial_manufacturing_completed_finish);

                  $('#process_capability_study').empty();
                  $('#process_capability_study').append(data.process_capability_study + ' To ' + data.process_capability_study_completed_finish);
 
                  $('#initial_sample_inspection_completed').empty();
                  $('#initial_sample_inspection_completed').append(data.initial_sample_inspection_completed + ' To ' + data.initial_sample_inspection_completed_finish);
 
                  $('#initial_sample_submission').empty();
                  $('#initial_sample_submission').append(data.initial_sample_submission + ' To ' + data.initial_sample_submission_finish);
 
                  $('#timing_denso_approval').empty();
                  $('#timing_denso_approval').append(data.timing_denso_approval + ' To ' + data.timing_denso_approval_finish);
                  
                  $('#m_or_p_starts').empty();
                  $('#m_or_p_starts').append(data.m_or_p_starts + ' To ' + data.mass_production_starts_finish);
 
                  $('#m_or_p_shipment').empty();
                  $('#m_or_p_shipment').append(data.m_or_p_shipment + ' To ' + data.mass_production_shipment_finish);
 
                  $('#entry_example').empty();
                  $('#entry_example').append(data.entry_example_start + ' To ' + data.entry_example_finish);
 
                  $('#status').empty();
                  $('#status').append(data.stat);
                }
              });

              if ( type != "Renewal Dies" && type != "Additional Dies"){
                $('#toolingSection').empty();
              }else{
                $.ajax({
                  url: "<?php echo base_url('C_Dashboard_new/ajaxGet_tooling') ?>",
                  type: "get",
                  dataType: "JSON",
                  data: {hdrid:hdrid},
                  success: function(data) {
                    console.log(data);
                    $('#tooling_supplier').empty();
                    $('#tooling_supplier').append(data.supplier);

                    $('#tooling_tipe').empty();
                    $('#tooling_tipe').append(data.tipe);
                    
                    $('#tooling_part_number').empty();
                    $('#tooling_part_number').append(data.part_number);
                    
                    $('#tooling_part_name').empty();
                    $('#tooling_part_name').append(data.part_name);
                    
                    $('#tooling_number_tooling').empty();
                    $('#tooling_number_tooling').append(data.number_tooling);
                    
                    $('#tooling_reason').empty();
                    $('#tooling_reason').append(data.reason);
                    
                    $('#tooling_planning').empty();
                    $('#tooling_planning').append(data.planning);
                    
                    $('#month_1').empty();
                    $('#month_1').append('Quantity ' + data.month_1);

                    $('#month_2').empty();
                    $('#month_2').append('Quantity ' + data.month_2);
                    
                    $('#month_3').empty();
                    $('#month_3').append('Quantity ' + data.month_3);
                    
                    $('#month_4').empty();
                    $('#month_4').append('Quantity ' + data.month_4);
                    
                    $('#month_5').empty();
                    $('#month_5').append('Quantity ' + data.month_5);
                    
                    $('#month_6').empty();
                    $('#month_6').append('Quantity ' + data.month_6);
                    
                    $('#tooling_quantity_month_1').empty();
                    $('#tooling_quantity_month_1').append(data.quantity_month_1);
                    
                    $('#tooling_quantity_month_2').empty();
                    $('#tooling_quantity_month_2').append(data.quantity_month_2);
                    
                    $('#tooling_quantity_month_3').empty();
                    $('#tooling_quantity_month_3').append(data.quantity_month_3);
                    
                    $('#tooling_quantity_month_4').empty();
                    $('#tooling_quantity_month_4').append(data.quantity_month_4);
                    
                    $('#tooling_quantity_month_5').empty();
                    $('#tooling_quantity_month_5').append(data.quantity_month_5);
                    
                    $('#tooling_quantity_month_6').empty();
                    $('#tooling_quantity_month_6').append(data.quantity_month_6);
                    
                    $('#tooling_start_delivery_to_aine').empty();
                    $('#tooling_start_delivery_to_aine').append(data.start_delivery_to_aine);
                    
                    $('#tooling_current_dies_mold_price').empty();
                    $('#tooling_current_dies_mold_price').append(data.current_dies_mold_price);
                    
                    $('#tooling_current_dies_m_c_tonage').empty();
                    $('#tooling_current_dies_m_c_tonage').append(data.current_dies_m_c_tonage);
                    
                    $('#tooling_current_dies_qty_cavity').empty();
                    $('#tooling_current_dies_qty_cavity').append(data.current_dies_qty_cavity);
                    
                    $('#tooling_current_dies_cavity_number').empty();
                    $('#tooling_current_dies_cavity_number').append(data.current_dies_cavity_number);
                    
                    $('#tooling_current_dies_output_pcs_hour').empty();
                    $('#tooling_current_dies_output_pcs_hour').append(data.current_dies_output_pcs_hour);
                    
                    $('#tooling_current_dies_guarantee_shoot').empty();
                    $('#tooling_current_dies_guarantee_shoot').append(data.current_dies_guarantee_shoot);
                    
                    $('#tooling_current_dies_total_shoot').empty();
                    $('#tooling_current_dies_total_shoot').append(data.current_dies_total_shoot);
                    
                    $('#tooling_new_dies_mold_finish').empty();
                    $('#tooling_new_dies_mold_finish').append(data.new_dies_mold_finish);
                    
                    $('#tooling_new_dies_mold_price').empty();
                    $('#tooling_new_dies_mold_price').append(data.new_dies_mold_price);
                    
                    $('#tooling_new_dies_m_c_tonage').empty();
                    $('#tooling_new_dies_m_c_tonage').append(data.new_dies_m_c_tonage);
                    
                    $('#tooling_new_dies_qty_cavity').empty();
                    $('#tooling_new_dies_qty_cavity').append(data.new_dies_qty_cavity);
                    
                    $('#tooling_new_dies_cavity_number').empty();
                    $('#tooling_new_dies_cavity_number').append(data.new_dies_cavity_number);
                    
                    $('#tooling_new_dies_type').empty();
                    $('#tooling_new_dies_type').append(data.new_dies_type);
                    
                    $('#tooling_schedule_t0_t1_trial').empty();
                    $('#tooling_schedule_t0_t1_trial').append(data.schedule_t0_t1_trial);
                    
                    $('#tooling_schedule_sample_isir_submission').empty();
                    $('#tooling_schedule_sample_isir_submission').append(data.schedule_sample_isir_submission);
                    
                    $('#tooling_schedule_cycle_time').empty();
                    $('#tooling_schedule_cycle_time').append(data.schedule_cycle_time);
                    
                    $('#tooling_schedule_cavity_number').empty();
                    $('#tooling_schedule_cavity_number').append(data.schedule_cavity_number);
                    
                    $('#tooling_schedule_output_pcs_hour').empty();
                    $('#tooling_schedule_output_pcs_hour').append(data.schedule_output_pcs_hour);
                    
                    $('#tooling_schedule_total_output_month').empty();
                    $('#tooling_schedule_total_output_month').append(data.schedule_total_output_month);
                  
                  }
                });
              }

            ///@see get untuk Attachment List PCN
            ///@note fungsi untuk mencari Attachment list pcn
            ///@attention jika Attachment yang ditarik tidak sesuai maka tidak akan muncul
              $.ajax({
                url: "<?php echo base_url('C_Dashboard_new/ajaxGet_attachment') ?>",
                type: "get",
                dataType: "JSON",
                data: {hdrid:hdrid},
                success: function(data){
                  if(data.length == 0){
                    $('#attachmentSection').empty();
                    $('#attachmentSection').append('<div class="col-md-12" style="text-align:center; color:grey;">Nothing Attachment</div>');
                  }else{
                    $('#attachmentSection').empty();
                    $.each(data, function(key, data) {
                      console.log(data.name);
                      $('#attachmentSection').append('<div class="row mb-2"><div class="col-md-4"><label >' + data.name + '</label></div><div class="col-md-8"><a href="/PCN/' + data.url + '" download>download</a></div></div>');
                    });
                  }
                }
              });
            };
             ///@see get untuk search data List PCN
            ///@note fungsi untuk mencari data list pcn
            ///@attention jika data yang ditarik tidak sesuai maka tidak akan muncul
            var search = document.getElementById('search');
            var listPCN = document.getElementById('listPCN');

            search.addEventListener('keyup', function() {
              
                if (search.value == "") {
                    var isi = "all";
                } else {
                    var isi = search.value;
                }

                console.log(isi);
                $.ajax({
                  url: "<?php echo base_url('C_Dashboard_new/ajaxGet_pcn_list') ?>",
                  type: "get",
                  dataType: "JSON",
                  data: {no_dokumen:no_dokumen},
                  success: function(data) {
                    console.log(data);
                      if(data.length == 0){
                          $('#listPCN').empty();
                          $('#listPCN').append('<tr><td colspan="9" style="text-align:center">=== Data Not Found ===</td></tr>');
                      }else{
                          console.log(data);
                          var i = 1;
                          $('#listPCN').empty();
                          $.each(data, function(key, listPCN) {
                            
                              $('#listPCN').append('<tr style="text-align:center; vertical-align: middle;"><td style="vertical-align: middle;">' + i + '</td><td style="vertical-align: middle;">' + listPCN.hdrid + '</td><td style="vertical-align: middle;">' + listPCN.supplier_name + '</td><td style="vertical-align: middle;">' + listPCN.object_type + '</td><td style="vertical-align: middle;">' + listPCN.product_name + '</td><td style="vertical-align: middle;">' + listPCN.part_name + '</td><td style="vertical-align: middle;"><b>' + listPCN.criteria_critical_item + '</b></td><td style="vertical-align: middle;"><b>' + listPCN.stat + '</b></td><td style="vertical-align: middle;"><a href=""><button type="button" class="btn btn-primary">Detail</button></a></td></tr>');
                              i++;
                          });
                      }

                  }, 
                  error: function(e){
                    console.log("Failed");
                    alert(e);
                  }
                });
            });
          </script>

<!-- handle datatable-->
<script type="text/javascript">

   //variable table
    var tabel = null;
    $(document).ready(function() {

        tabel = $('#example2').DataTable({ //table
            "processing": true, //processing true jika data masuk table
            // "responsive":true, //respon jika data masuk akan muncul pop up data
            scrollY : '600px',
            scrollX : '200px',
            scrollCollapse: true,
            "bInfo": false, //Dont display info e.g. "Showing 1 to 4 of 4 entries"
            "paging": true, 
            "lengthChange": true,
            "iDisplayLength":10,
            "pageLength": 10,
            // "bPaginate": false,
            "serverSide": true,//untuk data masuk server 
            "ordering": true, // Set true agar bisa di sorting
            "order": [[ 0, 'desc' ]], // Default sortingnya berdasarkan kolom / field ke 0 (paling pertama)
            // dom: "lfBrtip",
            "dom": "lfrti",
            buttons: [
            {
              extend: 'copyHtml5', //extend html
              className: 'btn btn-secondary', //button
              text: '<i class="fas fa-copy">&nbsp</i> Copy Data to Clipboard',//untuk copy cliboard
            },
            {
              extend: 'csvHtml5',//extend html
              className: 'btn btn-info',//button
              text: '<i class="fas fa-file-csv">&nbsp</i> Export Data to CSV',//untuk export data ke csv
            },
            {
              extend: 'excelHtml5',//extend html
              className: 'btn btn-success',//button
              text: '<i class="fas fa-file-excel">&nbsp</i> Export Data to Excel',//untuk export data ke excel
              customize: function ( xlsx ){ //type data excel
                var sheet = xlsx.xl.worksheets['sheet1.xml'];
                // jQuery selector to add a border
                $( 'row c', sheet ).attr( 's', '25' );
              }
            },
            {
              extend : 'pdfHtml5',   //extend html           
              className: 'btn btn-danger', //button
              text: '<i class="fas fa-file-pdf">&nbsp</i> Export Data to PDF', //untuk export data ke pdf
              orientation : 'landscape', //type landscape
              pageSize : 'A4', //ukuran kertas
              download: 'open' //download 
            }
          ],
            "ajax": 
            {
                "url": "<?= base_url('C_Dashboard_new/view_data_where'); ?>", // URL file untuk proses select datanya
                "type": "POST", //post select datanya
                "data": function(data){     
                  data.searchByFromdate = $('#search_fromdate').val(); //value from date
                  data.searchByTodate = $('#search_todate').val(); //value to date
                  // data.Number = "<= $Number ?>";
                }

            },
            "deferRender": true,
            "aLengthMenu": [[10],[ 10]], // Combobox Limit
            "columns": [
               {"data": 'no_dokumen',"sortable": false, //1
                    render: function (data, type, row, meta) {
                        // return meta.row + meta.settings._iDisplayStart + 1;
                        // return '<div class="btn btn-success btn-sm konfirmasiView" data-id="'+ data +'" data-toggle="modal" data-target="#modal-default" > <i class="fa fa-eye"></i></div> <div class="btn btn-danger btn-sm konfirmasiHapus" data-id="'+ data +'" data-toggle="modal" data-target="#modal-delete" > <i class="fa fa-trash"></i></div> <div class="btn btn-primary btn-sm konfirmasiEdit" data-id="'+ data +'" data-toggle="modal" data-target="#modal-default"> <i class="fa fa-edit"></i></div>';
                        mnu='';
                      //   mnu=mnu+'<div class="btn btn-success btn-sm konfirmasiView  mr-2" data-id="'+ data +'" data-toggle="modal" data-target="#modal-default" > <i class="fa fa-eye"></i></div>';
                      // <php if(!empty($hak_akses)){ if ($hak_akses->allow_edit=='on') { ?>
                      //   mnu=mnu+'<div class="btn btn-primary btn-sm konfirmasiEdit  mr-2" data-id="'+ data +'" data-toggle="modal" data-target="#modal-default"> <i class="fa fa-edit"></i></div>'; 
                      // <php } }?>
                      // <php if(!empty($hak_akses)){ if ($hak_akses->allow_delete=='on') { ?>
                      //   mnu=mnu + '<div class="btn btn-danger btn-sm konfirmasiHapus mr-2" data-id="'+ data +'" data-toggle="modal" data-target="#modal-delete" > <i class="fa fa-trash"></i></div>';
                      // <php } }?>
                        mnu = mnu + '<a class="btn btn-secondary btn-sm mr-2"  href="<?php echo base_url('C_Print_approvedDummy/print_report2_approved?var1=' . "'+ data +'") ?>"  target="_blank"> <i class="fas fa-print mr-1"></i>A4</a>';
                        // <php if ($this->session->userdata('WT202105008Edit'||$this->session->userdata('rolename')=='Administrator Quality')) { ?>
                        //   mnu=mnu+'<div class="btn btn-primary btn-sm konfirmasiEdit" data-id="'+ data +'" data-toggle="modal" data-target="#modal-default"> <i class="fa fa-edit"></i></div>';
                        //   // return '<div class="btn btn-success btn-sm konfirmasiView" data-id="'+ data +'" data-toggle="modal" data-target="#modal-default" > <i class="fa fa-eye"></i></div> <div class="btn btn-danger btn-sm konfirmasiHapus" data-id="'+ data +'" data-toggle="modal" data-target="#modal-delete" > <i class="fa fa-trash"></i></div> <div class="btn btn-primary btn-sm konfirmasiEdit" data-id="'+ data +'" data-toggle="modal" data-target="#modal-default"> <i class="fa fa-edit"></i></div>';
                        // <php } if ($this->session->userdata('WT202105008Delete')||$this->session->userdata('rolename')=='Administrator Quality') { ?>
                        //   mnu=mnu + '<div class="btn btn-danger btn-sm konfirmasiHapus" data-id="'+ data +'" data-toggle="modal" data-target="#modal-delete" > <i class="fa fa-trash"></i></div>';
                        //   // return '<div class="btn btn-success btn-sm konfirmasiView" data-id="'+ data +'" data-toggle="modal" data-target="#modal-default" > <i class="fa fa-eye"></i></div> ';
                        // <php } ?>
                        
                        return mnu;

                    }  
                },
                
                // ---------------------------------- Datatables Macro Batas sini ---------------------------------
                {"data":"transaction_date"},
                {"data":"no_dokumen"},
                {"data":"status"},
                {"data":"category"},
                {"data":"supplier_name"},
                {"data":"product_name"},
                {"data":"part_name"},
                // {"data":"ae"},
                {"data":"part_no"},
                {"data":"description"},
                {"data":"proses_perubahan_lama"},
                {"data":"proses_perubahan_baru"},
                {"data":"current_flow_pic"},
                {"data":"pic_proc"},
                {"data":"checked_proc"},
                {"data":"approved_proc"},
                {"data":"commodity"},
                {"data":"qa_pic"},
                {"data":"checked_qa"},
                {"data":"approved_qa"},
                {"data":"registered"},
                {"data":"masspro_schedule"},
                {"data":"attachment"},
                {"data":"attachment1"},
                {"data":"attachment2"},
                {"data":"attachment3"},
                {"data":"isir"},
                {"data":"qcr"},
                // ---------------------------------- / Datatables Macro Batas sini --------------------------------
            ],
        });

        // Search button
        $('#search').click(function(){

          
            if($('#search_fromdate').val() != '' && $('#search_todate').val() !='')
            {
                tabel.draw();
            }
            else
            {
              gagal("Both Date is Required");
            }

        });


    });
    
</script>
<!-- tutup handle data table-->

<script type="text/javascript">

   //variable table
    var tabel = null;
    $(document).ready(function() {

        tabel = $('#summary').DataTable({ //table
            "processing": true, //processing true jika data masuk table
            // "responsive":true, //respon jika data masuk akan muncul pop up data
            "scrollX": true,
            // "scrollY": true,
            "serverSide": true,//untuk data masuk server 
            "ordering": true, // Set true agar bisa di sorting
            "order": [[ 0, 'asc' ]], // Default sortingnya berdasarkan kolom / field ke 0 (paling pertama)
            dom: "lfBrtip",
            buttons: [
            {
              extend: 'copyHtml5', //extend html
              className: 'btn btn-secondary', //button
              text: '<i class="fas fa-copy">&nbsp</i> Copy Data to Clipboard',//untuk copy cliboard
            },
            {
              extend: 'csvHtml5',//extend html
              className: 'btn btn-info',//button
              text: '<i class="fas fa-file-csv">&nbsp</i> Export Data to CSV',//untuk export data ke csv
            },
            {
              extend: 'excelHtml5',//extend html
              className: 'btn btn-success',//button
              text: '<i class="fas fa-file-excel">&nbsp</i> Export Data to Excel',//untuk export data ke excel
              customize: function ( xlsx ){ //type data excel
                var sheet = xlsx.xl.worksheets['sheet1.xml'];
                // jQuery selector to add a border
                $( 'row c', sheet ).attr( 's', '25' );
              }
            },
            {
              extend : 'pdfHtml5',   //extend html           
              className: 'btn btn-danger', //button
              text: '<i class="fas fa-file-pdf">&nbsp</i> Export Data to PDF', //untuk export data ke pdf
              orientation : 'landscape', //type landscape
              pageSize : 'A4', //ukuran kertas
              download: 'open' //download 
            }
          ],
            
            "deferRender": true
            
            "ajax": "<?php echo base_url('C_PCN/get_pcn_data'); ?>",
            "columns": [
              { "data": "action" },
              { "data": "pic_buyer" },
              { "data": "open" },
              { "data": "not_yet_temporary" },
              { "data": "hold" },
              { "data": "temporary" },
              { "data": "late" },
              { "data": "priority" }
            ]
        });

        // Search button
        $('#search').click(function(){

          
            if($('#search_fromdate').val() != '' && $('#search_todate').val() !='')
            {
                tabel.draw();
            }
            else
            {
              gagal("Both Date is Required");
            }

        });


    });
    
</script>

<script type="text/javascript">
  ///@see get view modal
  ///@note fungsi digunakan menampilkan data
  ///@attention 
  function view_modal2(no_dokumen1,status){
                             
if (status=="Add"){ 

            $('#exampleModalLabel').text('Add Data');  // name view
            $('#quickForm')[0].reset(); // reset form   
            $('#btnsubmit').text('Save'); // name Save
            document.getElementById("btnsubmit").style.visibility = "visible";    // Visible button              
            //Ajax kosongkan data

            var someDate0 = new Date(); //variable date
            var numberOfDaysToAdd0 = 0; //variable number of day
            var result0 = someDate0.setDate(someDate0.getDate() + numberOfDaysToAdd0);//variable date
            $('#date').val(new Date(result0).toISOString().slice(0, 10)); //variable issue date
          }else {
            // Get Hdri ID
            $('#no_dokumen').val(no_dokumen1);
            var no_dokumen=no_dokumen1;   

            // Ajax isi data
            $.ajax({
              url: "<?php echo base_url('C_PCNLIST/ajax_getbyno_dokumen') ?>",
              method: "get",
              dataType : "JSON",              
              data: {no_dokumen:no_dokumen1},
              success: function (data) {

                   // ---------------------------------- Data val Macro Batas sini ---------------------------------                  
                  $('#no_dokumen').val(data.no_dokumen);
                  $('#status').val(data.status);
                  $('#category').val(data.category);
                  $('#supplier_name').val(data.supplier_name);
                  $('#product_name').val(data.product_name);
                  $('#part_name').val(data.part_name);
                  // $('#ae').val(data.ae);
                  $('#part_no').val(data.part_no);
                  $('#description').val(data.description);
                  $('#proses_perubahan_lama').val(data.proses_perubahan_lama);
                  $('#proses_perubahan_baru').val(data.proses_perubahan_baru);
                  $('#current_flow_pic').val(data.current_flow_pic);
                  $('#pic_proc').val(data.pic_proc);
                  $('#checked_proc').val(data.checked_proc);
                  $('#approved_proc').val(data.approved_proc);
                  $('#commodity').val(data.commodity);
                  $('#qa_pic').val(data.qa_pic);
                  $('#checked_qa').val(data.checked_qa);
                  $('#approved_qa').val(data.approved_qa);
                  $('#registered').val(data.registered);
                  $('#masspro_schedule').val(data.masspro_schedule);
                  // ---------------------------------- / Data val Macro  Batas sini ------------------------------                                
              },
              error: function (e) {
                  alert(e);
              }
            });
            
            // Disable and button submit dan text form           
            if(status=="View"){
              document.getElementById("btnsubmit").style.visibility = "hidden";  //hidden submit
              $('#exampleModalLabel').text('View Data'); //name view              
            }else{
              $('#exampleModalLabel').text('Edit Data'); //name view 
              $('#btnsubmit').text('Update'); //name Update  
              document.getElementById("btnsubmit").style.visibility = "visible";  //visible submit
            }
          
          }

  }

</script>
<script text="text/javascript">
var completes = document.querySelectorAll(".complete");
var toggleButton = document.getElementById("toggleButton");

function toggleComplete() {
  var lastComplete = completes[completes.length - 1];
  lastComplete.classList.toggle('complete');
}

toggleButton.onclick = toggleComplete;
</script>

<div class="container">
                   
                   
                      </div>
                  </li>
                </ul>
              </div>
    
              </div>
            </div>
            <!-- /.card -->
          </div>
          <!-- /.row (main row) -->
        </div><!-- /.container-fluid -->
      <!-- /.content -->
    </div>
  <!-- /.content-wrapper -->
  </div>
